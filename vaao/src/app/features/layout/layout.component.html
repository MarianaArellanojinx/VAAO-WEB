<p-sidebar [(visible)]="visible" (onHide)="visible = false">
  <ng-template pTemplate="header">
    <img src="assets/imgs/VAAO_LOGO.png" width="200">
  </ng-template>
  <div class="w-full flex flex-column">
    @for (item of items; track $index) {
    <div class="flex gap-2 align-items-center item mt-1 cursor-pointer" (click)="navigate(item.path)">
      <i [class]="'pi ' + item.icon" style="color: #000;"></i>
      <label style="color: #000;">{{ item.label }}</label>
    </div>
    }
  </div>
</p-sidebar>
<div class="app-layout flex flex-column">
  <header class="app-topbar flex align-items-center justify-content-between px-3 py-2">
    <div class="flex align-items-center gap-4">
      <i class="pi pi-bars text-white cursor-pointer" (click)="open()"></i>
      <img src="assets/imgs/VAAO_LOGO.png" width="100" alt="" (click)="navigate('')" style="cursor: pointer;">
    </div>
    <div class="flex flex-column align-items-center">
      @if(user?.userName !== '' && user !== null){
        <label>Bienvenido de nuevo,</label>
        <label><b>{{user.userName}}</b></label>
      }

    </div>
    <div class="flex flex-column gap-1">
      @if (user?.idUser) {
        <div class="flex align-items-center justify-content-end gap-2 cursor-pointer text-white"
          (click)="endSession()">
          <i class="pi pi-sign-out"></i>
          <label class="cursor-pointer">Cerrar sesión</label>
        </div>
      }@else {
        <div class="flex align-items-center justify-content-end gap-2 cursor-pointer text-white"
          (click)="navigate('auth')">
          <i class="pi pi-sign-in"></i>
          <label class="cursor-pointer">Iniciar sesión</label>
        </div>
      }
      
    </div>
  </header>
  <main class="app-main relative flex-1 mt-5">
    <div id="particles-js" class="particles-bg"></div>
    <div class="relative z-1 p-3" style="height: 93vh;">
      <router-outlet></router-outlet>
    </div>
  </main>
  <footer class="app-footer-fixed">
    <div class="flex align-items-center justify-content-between px-4 h-full">
      <span>© 2025 VAAO</span>
      <span>Developed M&G Solutions.</span>
    </div>
  </footer>
</div>